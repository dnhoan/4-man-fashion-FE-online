<div class="page-wrapper">
  <div class="checkout shopping">
    <h1 class="text-center">Thanh toán</h1>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 pr-5">
          <div class="billing-details">
            <h4 class="mb-4">Thông tin giao hàng</h4>
            <form [formGroup]="formCheckout">
              <div class="row">
                <div class="col-lg-12">
                  <div class="form-group mb-4">
                    <label for="recipientName">Họ và tên</label>
                    <input
                      type="text"
                      class="form-control"
                      id="recipientName"
                      formControlName="recipientName"
                      placeholder=""
                    />
                  </div>
                </div>
                <div class="col-lg-12">
                  <div class="form-group mb-4">
                    <label for="recipientPhone">Số điện thoại </label>
                    <input
                      type="text"
                      class="form-control"
                      id="recipientPhone"
                      formControlName="recipientPhone"
                      placeholder=""
                    />
                  </div>
                </div>
                <div class="col-lg-12">
                  <div class="form-group mb-4">
                    <label for="recipientEmail">Email</label>
                    <input
                      type="text"
                      class="form-control"
                      id="recipientEmail"
                      formControlName="recipientEmail"
                      placeholder=""
                    />
                  </div>
                </div>
                <div class="col-12">
                  <div class="form-group mb-4">
                    <label for="recipientAddress">Street Address</label>
                    <div class="d-flex justify-content-between">
                      <nz-select
                        class="w-100"
                        nzSize="large"
                        id="recipientAddress"
                        formControlName="recipientAddress"
                      >
                        <nz-option
                          *ngFor="let address of addresses; index as i"
                          [nzValue]="address"
                          nzCustomContent
                          nzLabel="{{
                            address.detail +
                              ', ' +
                              address.ward +
                              ', ' +
                              address.district +
                              ', ' +
                              address.district
                          }}"
                        >
                          <div class="d-flex justify-content-between">
                            <span>{{
                            address.detail +
                              ', ' +
                              address.ward +
                              ', ' +
                              address.district +
                              ', ' +
                              address.district
                            }}</span>
                            <span
                              class="text-danger"
                              nz-icon
                              nzType="close"
                              nzTheme="outline"
                              (click)="
                                $event.stopPropagation();
                                removeAddress(address, i)
                              "
                            ></span>
                          </div>
                        </nz-option>
                      </nz-select>
                      <a
                        class="text-primary"
                        nz-button
                        (click)="editAddress()"
                        nzSize="large"
                        nzType="link"
                      >
                        <span nz-icon nzType="edit" nzTheme="outline"></span>
                      </a>
                    </div>
                    <button
                      nz-button
                      (click)="addAddress()"
                      nzSize="large"
                      class="mt-2"
                    >
                      Thêm địa chỉ
                    </button>
                  </div>
                </div>
                <div class="col-lg-12">
                  <div class="form-group mb-4">
                    <label for="note">Ghi chú</label>
                    <textarea
                      class="form-control"
                      formControlName="note"
                      id="note"
                      cols="30"
                      rows="5"
                      placeholder="Ghi chú đơn hàng"
                    ></textarea>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>

        <!-- Order sidebar Summery -->
        <div class="col-md-6 col-lg-4">
          <div class="product-checkout-details mt-5 mt-lg-0">
            <h4 class="mb-4 border-bottom pb-4">Sản phẩm</h4>
            <div class="media" *ngFor="let item of cartItems">
              <a routerLink="/product-single">
                <img
                  style="width: 100px"
                  src="https://firebasestorage.googleapis.com/v0/b/fashion-d9d81.appspot.com/o/product_images%2F1677893040676?alt=media&token=245d060c-6d91-438b-b9ec-529ab5980aa0"
                  alt="image"
                />
              </a>
              <div class="media-body">
                <h6>
                  {{ item.productDetailCartDto.productDetailName }}
                </h6>
                <div class="cart-price">
                  <span>{{ item.amount }} x</span>
                  <span>{{ item.productDetailCartDto.price | number }} đ</span>
                </div>
              </div>
            </div>
            <!-- / Cart Item -->
            <div class="cart-summary">
              <span class="h6">Tổng tiền</span>
              <span class="total-price h6"
                >{{ totalMoneyCart | number }} đ</span
              >

              <div class="text-center cart-buttons mt-3">
                <a (click)="checkout()" class="btn btn-small btn-main btn-block"
                  >Thanh toán</a
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
